You are helping me prepare my full-stack TypeScript/React project for deployment on Vercel. 
Please analyze and fix the entire codebase to ensure it's production-ready and fully compatible 
with Vercel's serverless architecture.  Here are the key requirements:

### Project Overview
- **Repository**: Jack77422/grouptherapy
- **Stack**: React 18 + Vite frontend, Express.js backend, PostgreSQL database, TypeScript
- **Current Issues**: Project is set up for Replit but not yet optimized for Vercel

### Critical Tasks to Complete

1. **Fix Vite Configuration**
   - Remove all Replit-specific plugins from vite.config.ts (@replit/vite-plugin-cartographer, 
     @replit/vite-plugin-dev-banner, @replit/vite-plugin-runtime-error-modal)
   - Ensure production build outputs to `dist/public` correctly
   - Add proper alias resolution for all path imports (@, @shared, @assets)
   - Ensure the build is fully optimized for Vercel's static hosting

2. **Update Vercel Configuration (vercel.json)**
   - Configure both static build (frontend) and serverless function (backend)
   - Set correct build command: `npm run build`
   - Set correct start command: `npm start`
   - Ensure API routes are properly configured at `/api/*`
   - Add environment variable declarations (don't expose secrets)
   - Set appropriate build and function timeout configurations
   - Ensure client-side routing falls back to index.html correctly

3. **Server/Backend Optimization**
   - Ensure server/index.ts is optimized for serverless environment
   - Verify Express server starts correctly on the PORT environment variable
   - Ensure all API routes are under `/api` prefix for Vercel routing
   - Remove any long-running processes or background tasks that won't work in serverless
   - Add proper error handling and logging for production

4. **Build Script Verification**
   - Review script/build.ts to ensure it:
     - Builds the Vite frontend correctly
     - Compiles TypeScript server code to dist/index.js
     - Runs database migrations (if needed)
     - Produces output compatible with Vercel's file structure
   - Test that `npm run build` completes successfully without errors

5. **Environment & Configuration**
   - Create a proper `.env. example` file listing all required environment variables
   - Document what each variable is for (DATABASE_URL, API_KEYS, etc.)
   - Ensure no hardcoded credentials or Replit-specific configs remain
   - Add . env to .gitignore (if not already)

6. **Database Compatibility**
   - Ensure Drizzle ORM is configured for external PostgreSQL (not Replit's embedded)
   - Verify drizzle. config.ts points to correct migration directory
   - Ensure migrations run correctly during deployment
   - Test that database connections work in production mode

7. **TypeScript Configuration**
   - Verify tsconfig.json is correct and compatible with Vite
   - Ensure all path aliases are properly configured
   - Check for any TypeScript errors (run: `npm run check`)

8. **Dependencies Cleanup**
   - Review package.json for any Replit-specific dependencies
   - Ensure all production dependencies are properly listed
   - Verify no devDependencies are missing for build process

9. **Testing & Validation**
   - Build the project locally: `npm run build`
   - Verify dist folder structure is correct (should have dist/public for frontend, 
     dist/index.js for server)
   - Start the production server: `npm start`
   - Test that the frontend loads correctly at http://localhost:5000
   - Test that API routes work at http://localhost:5000/api/*
   - Test that client-side routing works (no 404s on navigation)
   - Verify no console errors or warnings

10. **Documentation**
    - Update or create a DEPLOYMENT.md file with:
      - Vercel deployment instructions
      - Required environment variables
      - Pre-deployment checklist
      - How to set up the PostgreSQL database on Vercel
      - Troubleshooting common issues

### Deliverables
- All code changes committed and pushed to main branch
- Zero TypeScript compilation errors
- Zero build errors when running `npm run build`
- Successful production server start with `npm start`
- All file paths and configurations verified for Vercel compatibility
- Comprehensive deployment documentation created

### Important Notes
- Ensure the project uses standard Node.js environment (no Replit-specific features)
- Keep all existing functionality intact - only remove/modify what's needed for Vercel
- Make sure database migrations are handled properly for serverless
- Test thoroughly before final deployment to catch any remaining issues

Please complete all tasks and verify everything works end-to-end.  The goal is to have 
a production-ready project that can be deployed to Vercel without any errors. 